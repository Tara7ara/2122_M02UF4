<!DOCTYPE html>
<html>

<head>
<title>mongodb</title>

</head>

<body>

<header>
<h1>Too Fast Family HD: The Web App</h1>
</header>

<main>
<section id="characters">
	<h3>Characters => Name:</h3>
	<ul id="characters-list">
	
	</ul>
</section>

<section id="items">
	<h3>Items => Item:</h3>
	<ul id="items-list">

	</ul>
</section>

</main>
<script>
function write_characters_list (data){
	let list = "";
	for (let i =0; i < data.length; i++){
		list += "<li>"+data[i].name+"</li>";
	}

	document.getElementById("characters-list").innerHTML = list;

}

function write_items_list (data) {
	let list = "";
	for (let i =0; i < data.length; i++) {
		list += "<li>"+data[i].item+"</li>";
	}

	document.getElementById("items-list").innerHTML = list;

}

//solo puedes usar el fetch en el script igual que los comentarios
let characters_interval = setInterval(function(){

	fetch("/characters")
		.then(response => response.json())
		.then(data => write_characters_list(data));

}(),2000);
let items_interval = setInterval(function(){
    fetch("/items")
		.then(response => response.json())
		.then(data => write_items_list(data));
}(),2000);

let characters_interval1 = setInterval(function(){

	fetch("/characters")
		.then(response => response.json())
		.then(data => write_characters_list(data));

},2000);
let items_interval1 = setInterval(function(){
    fetch("/items")
		.then(response => response.json())
		.then(data => write_items_list(data));
},2000);

//setInterval(characters_interval, 1);
//setInterval(items_interval, 1);

//clearInterval(characters_interval);

</script>

</body>

</html>

